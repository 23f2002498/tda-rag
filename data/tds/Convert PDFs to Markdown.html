<article class="markdown-section" id="main"><h2 id="converting-pdfs-to-markdown"><a class="anchor" data-id="converting-pdfs-to-markdown" href="#/convert-pdfs-to-markdown?id=converting-pdfs-to-markdown"><span>Converting PDFs to Markdown</span></a></h2><p>PDF documents are ubiquitous in academic, business, and technical contexts, but extracting and repurposing their content can be challenging. This tutorial explores various command-line tools for converting PDFs to Markdown format, with a focus on preserving structure and formatting suitable for different use cases, including preparation for Large Language Models (LLMs).</p><p>Use Cases:</p><ul><li><strong>LLM training and fine-tuning</strong>: Create clean text data from PDFs for AI model training</li><li><strong>Knowledge base creation</strong>: Transform PDFs into searchable, editable markdown documents</li><li><strong>Content repurposing</strong>: Convert academic papers and reports for web publication</li><li><strong>Data extraction</strong>: Pull structured content from PDF documents for analysis</li><li><strong>Accessibility</strong>: Convert PDFs to more accessible formats for screen readers</li><li><strong>Citation and reference management</strong>: Extract bibliographic information from academic papers</li><li><strong>Documentation conversion</strong>: Transform technical PDFs into maintainable documentation</li></ul><h3 id="pymupdf4llm"><a class="anchor" data-id="pymupdf4llm" href="#/convert-pdfs-to-markdown?id=pymupdf4llm"><span>PyMuPDF4LLM</span></a></h3><p><a href="https://pymupdf.readthedocs.io/en/latest/pymupdf4llm/" rel="noopener" target="_blank">PyMuPDF4LLM</a> is a specialized component of the PyMuPDF library that generates Markdown specifically formatted for Large Language Models. It produces high-quality markdown with good preservation of document structure. It’s specifically optimized for producing text that works well with LLMs, removing irrelevant formatting while preserving semantic structure. Requires PyTorch, which adds dependencies but enables more advanced processing capabilities.</p><p>PyMuPDF4LLM uses <a href="https://mupdf.com/" rel="noopener" target="_blank">MuPDF</a> as its PDF parsing engine. <a href="https://pymupdf.readthedocs.io/" rel="noopener" target="_blank">PyMuPDF</a> is emerging as a strong default for PDF text extraction due to its accuracy and performance in handling complex PDF structures.</p><pre class="language-bash" data-lang="bash" v-pre=""><code class="lang-bash language-bash"><span class="token assign-left variable">PYTHONUTF8</span><span class="token operator">=</span><span class="token number">1</span> uv run <span class="token parameter variable">--with</span> pymupdf4llm python <span class="token parameter variable">-c</span> <span class="token string">'import pymupdf4llm; h = open("pymupdf4llm.md", "w"); h.write(pymupdf4llm.to_markdown("$FILE.pdf"))'</span></code><button class="docsify-copy-code-button"><span class="label">Copy to clipboard</span><span aria-hidden="hidden" class="error">Error</span><span aria-hidden="hidden" class="success">Copied</span><span aria-live="polite"></span></button></pre><ul><li><code>PYTHONUTF8=1</code>: Forces Python to use UTF-8 encoding regardless of system locale</li><li><code>uv run --with pymupdf4llm</code>: Uses uv package manager to run Python with the pymupdf4llm package</li><li><code>python -c '...'</code>: Executes Python code directly from the command line</li><li><code>import pymupdf4llm</code>: Imports the PDF-to-Markdown module</li><li><code>h = open("pymupdf4llm.md", "w")</code>: Creates a file to write the markdown output</li><li><code>h.write(pymupdf4llm.to_markdown("$FILE.pdf"))</code>: Converts the PDF to markdown and writes to file</li></ul><h2 id="markitdown"><a class="anchor" data-id="markitdown" href="#/convert-pdfs-to-markdown?id=markitdown"><span>Markitdown</span></a></h2><p><a href="https://youtu.be/v65Oyddfxeg" rel="noopener" target="_blank"><img alt="Microsoft MarkItDown - Convert Files and Office Documents to Markdown - Install Locally (9 min)" data-origin="https://i.ytimg.com/vi/v65Oyddfxeg/sddefault.jpg" src="https://i.ytimg.com/vi/v65Oyddfxeg/sddefault.jpg"/></a></p><p><a href="https://github.com/microsoft/markitdown" rel="noopener" target="_blank">Markitdown</a> is Microsoft’s tool for converting various document formats to Markdown, including PDFs, DOCX, XLSX, PPTX, and ZIP files. It’s a versatile multi-format converter that handles PDFs via PDFMiner, DOCX via Mammoth, XLSX via Pandas, and PPTX via Python-PPTX. Good for batch processing of mixed document types. The quality of PDF conversion is generally good but may struggle with complex layouts or heavily formatted documents.</p><pre class="language-bash" data-lang="bash" v-pre=""><code class="lang-bash language-bash"><span class="token assign-left variable">PYTHONUTF8</span><span class="token operator">=</span><span class="token number">1</span> uvx markitdown <span class="token variable">$FILE</span>.pdf <span class="token operator">&gt;</span> markitdown.md</code><button class="docsify-copy-code-button"><span class="label">Copy to clipboard</span><span aria-hidden="hidden" class="error">Error</span><span aria-hidden="hidden" class="success">Copied</span><span aria-live="polite"></span></button></pre><ul><li><code>PYTHONUTF8=1</code>: Forces Python to use UTF-8 encoding</li><li><code>uvx markitdown</code>: Runs the markitdown tool via the uv package manager</li><li><code>$FILE.pdf</code>: The input PDF file</li><li><code>&gt; markitdown.md</code>: Redirects output to a markdown file</li></ul><h3 id="unstructured"><a class="anchor" data-id="unstructured" href="#/convert-pdfs-to-markdown?id=unstructured"><span>Unstructured</span></a></h3><p><a href="https://unstructured.io/" rel="noopener" target="_blank">Unstructured</a> is rapidly becoming the de facto library for parsing over 40 different file types. It is excellent for extracting text and tables from diverse document formats. Particularly useful for generating clean content to pass to LLMs. Strong community support and actively maintained.</p><h2 id="grobid"><a class="anchor" data-id="grobid" href="#/convert-pdfs-to-markdown?id=grobid"><span>GROBID</span></a></h2><p>If you specifically need to parse references from text-native PDFs or reliably OCR’ed ones, <a href="https://github.com/kermitt2/grobid" rel="noopener" target="_blank">GROBID</a> remains the de facto choice. It excels at extracting structured bibliographic information with high accuracy.</p><pre class="language-bash" data-lang="bash" v-pre=""><code class="lang-bash language-bash"><span class="token comment"># Start GROBID service</span>
<span class="token function">docker</span> run <span class="token parameter variable">-t</span> <span class="token parameter variable">--rm</span> <span class="token parameter variable">-p</span> <span class="token number">8070</span>:8070 lfoppiano/grobid:0.7.2

<span class="token comment"># Process PDF with curl</span>
<span class="token function">curl</span> <span class="token parameter variable">-X</span> POST <span class="token parameter variable">-F</span> <span class="token string">"input=@paper.pdf"</span> localhost:8070/api/processFulltextDocument <span class="token operator">&gt;</span> references.tei.xml</code><button class="docsify-copy-code-button"><span class="label">Copy to clipboard</span><span aria-hidden="hidden" class="error">Error</span><span aria-hidden="hidden" class="success">Copied</span><span aria-live="polite"></span></button></pre><h3 id="mistral-ocr-api"><a class="anchor" data-id="mistral-ocr-api" href="#/convert-pdfs-to-markdown?id=mistral-ocr-api"><span>Mistral OCR API</span></a></h3><p><a href="https://mistral.ai/products/ocr/" rel="noopener" target="_blank">Mistral OCR</a> offers an end-to-end cloud API that preserves both text and layout, making it easier to isolate specific sections like References. It shows the most promise currently, though it requires post-processing.</p><h2 id="azure-document-intelligence-api"><a class="anchor" data-id="azure-document-intelligence-api" href="#/convert-pdfs-to-markdown?id=azure-document-intelligence-api"><span>Azure Document Intelligence API</span></a></h2><p>For enterprise users already in the Microsoft ecosystem, <a href="https://azure.microsoft.com/en-us/products/ai-services/document-intelligence" rel="noopener" target="_blank">Azure Document Intelligence</a> provides excellent raw OCR with enterprise SLAs. May require custom model training or post-processing to match GROBID’s reference extraction capabilities.</p><h3 id="other-libraries"><a class="anchor" data-id="other-libraries" href="#/convert-pdfs-to-markdown?id=other-libraries"><span>Other libraries</span></a></h3><p><a href="https://github.com/DS4SD/docling" rel="noopener" target="_blank">Docling</a> is IBM’s document understanding library that supports PDF conversion. It can be challenging to install, particularly on Windows and some Linux distributions. Offers advanced document understanding capabilities beyond simple text extraction.</p><p><a href="https://github.com/QuivrHQ/MegaParse" rel="noopener" target="_blank">MegaParse</a> takes a comprehensive approach using LibreOffice, Pandoc, Tesseract OCR, and other tools. It has Robust handling of different document types but requires an OpenAI API key for some features. Good for complex documents but has significant dependencies.</p><h2 id="comparison-of-pdf-to-markdown-tools"><a class="anchor" data-id="comparison-of-pdf-to-markdown-tools" href="#/convert-pdfs-to-markdown?id=comparison-of-pdf-to-markdown-tools"><span>Comparison of PDF-to-Markdown Tools</span></a></h2>
<div class="table-wrapper">
<table id="_9kmbvdqxg">
<thead><tr>
<th>Tool</th>
<th>Strengths</th>
<th>Weaknesses</th>
<th>Best For</th>
</tr>
</thead>
<tbody><tr>
<td>PyMuPDF4LLM</td>
<td>Structure preservation, LLM optimization</td>
<td>Requires PyTorch</td>
<td>AI training data, semantic structure</td>
</tr>
<tr>
<td>Markitdown</td>
<td>Multi-format support, simple usage</td>
<td>Less precise layout handling</td>
<td>Batch processing, mixed documents</td>
</tr>
<tr>
<td>Unstructured</td>
<td>Wide format support, active development</td>
<td>Can be resource-intensive</td>
<td>Production pipelines, integration</td>
</tr>
<tr>
<td>GROBID</td>
<td>Reference extraction excellence</td>
<td>Narrower use case</td>
<td>Academic papers, citations</td>
</tr>
<tr>
<td>Docling</td>
<td>Advanced document understanding</td>
<td>Installation difficulties</td>
<td>Research applications</td>
</tr>
<tr>
<td>MegaParse</td>
<td>Comprehensive approach</td>
<td>Requires OpenAI API</td>
<td>Complex documents, OCR needs</td>
</tr>
</tbody>
</table>
</div><p>How to pick:</p><ul><li><strong>Need LLM-ready content?</strong> PyMuPDF4LLM is specifically designed for this</li><li><strong>Working with multiple document formats?</strong> Markitdown handles diverse inputs</li><li><strong>Extracting academic references?</strong> GROBID remains the standard</li><li><strong>Building a production pipeline?</strong> Unstructured offers the best integration options</li><li><strong>Handling complex layouts?</strong> Consider commercial OCR like Mistral or Azure Document Intelligence</li></ul><p>The optimal approach depends on your specific requirements regarding accuracy, structure preservation, and the intended use of the extracted content.</p><h2 id="tips-for-optimal-pdf-conversion"><a class="anchor" data-id="tips-for-optimal-pdf-conversion" href="#/convert-pdfs-to-markdown?id=tips-for-optimal-pdf-conversion"><span>Tips for Optimal PDF Conversion</span></a></h2><ol><li><p><strong>Pre-process PDFs</strong> when possible:</p><pre class="language-bash" data-lang="bash" v-pre=""><code class="lang-bash language-bash"><span class="token comment"># Optimize a PDF for text extraction first</span>
ocrmypdf <span class="token parameter variable">--optimize</span> <span class="token number">3</span> --skip-text input.pdf optimized.pdf</code><button class="docsify-copy-code-button"><span class="label">Copy to clipboard</span><span aria-hidden="hidden" class="error">Error</span><span aria-hidden="hidden" class="success">Copied</span><span aria-live="polite"></span></button></pre></li><li><p><strong>Try multiple tools</strong> on the same document to compare results:</p></li><li><p><strong>Handle scanned PDFs</strong> appropriately:</p><pre class="language-bash" data-lang="bash" v-pre=""><code class="lang-bash language-bash"><span class="token comment"># For scanned documents, run OCR first</span>
ocrmypdf --force-ocr input.pdf ocr_ready.pdf
<span class="token assign-left variable">PYTHONUTF8</span><span class="token operator">=</span><span class="token number">1</span> uvx markitdown ocr_ready.pdf <span class="token operator">&gt;</span> markitdown.md</code><button class="docsify-copy-code-button"><span class="label">Copy to clipboard</span><span aria-hidden="hidden" class="error">Error</span><span aria-hidden="hidden" class="success">Copied</span><span aria-live="polite"></span></button></pre></li><li><p><strong>Consider post-processing</strong> for better results:</p><pre class="language-bash" data-lang="bash" v-pre=""><code class="lang-bash language-bash"><span class="token comment"># Simple post-processing example</span>
<span class="token function">sed</span> <span class="token parameter variable">-i</span> <span class="token string">'s/\([A-Z]\)\./\1\.\n/g'</span> output.md  <span class="token comment"># Add line breaks after sentences</span></code><button class="docsify-copy-code-button"><span class="label">Copy to clipboard</span><span aria-hidden="hidden" class="error">Error</span><span aria-hidden="hidden" class="success">Copied</span><span aria-live="polite"></span></button></pre></li></ol><div class="docsify-pagination-container">
<div class="pagination-item pagination-item--previous">
<a href="#/scraping-pdfs-with-tabula">
<div class="pagination-item-label">
<svg height="16" viewbox="0 0 10 16" width="10" xmlns="http://www.w3.org/2000/svg">
<polyline fill="none" points="8,2 2,8 8,14" vector-effect="non-scaling-stroke"></polyline>
</svg>
<span>Previous</span>
</div>
<div class="pagination-item-title">Scraping PDFs with Tabula</div>
<div class="pagination-item-subtitle"></div></a>
</div>
<div class="pagination-item pagination-item--next">
<a href="#/convert-html-to-markdown">
<div class="pagination-item-label">
<span>Next</span>
<svg height="16" viewbox="0 0 10 16" width="10" xmlns="http://www.w3.org/2000/svg">
<polyline fill="none" points="2,2 8,8 2,14" vector-effect="non-scaling-stroke"></polyline>
</svg>
</div>
<div class="pagination-item-title">Convert HTML to Markdown</div>
<div class="pagination-item-subtitle"></div></a>
</div>
</div></article>